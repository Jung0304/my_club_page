<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ê³„ì • ê´€ë¦¬</title>
  <link href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="acc.css" />
</head>
<body>
    <div class="container">
  
      <!-- âœ… ë°•ìŠ¤ ìœ„ì˜ í—¤ë” ì¤„ -->
      <div class="header-bar">
        <div class="left-buttons">
          <button onclick="history.back()">â¬…ï¸</button>
          <button onclick="window.location.href='../index.html'">ğŸ </button>
        </div>
        <div class="page-title">ë‹¤ë¹ˆì¹˜í´ëŸ½</div>
      </div>
  
      <!-- âœ… ë³¸ë¬¸ ë°•ìŠ¤ -->
      <div class="account-box">
        <h2>ì‹ ì²­ ê´€ë¦¬</h2>
            <div class="toggle-wrapper">
                <label class="switch">
                    <input type="checkbox" id="recruitToggle" />
                    <span class="slider round"></span>
                </label>
                <span id="recruitStateText">ëª¨ì§‘ ì¢…ë£Œ</span>
            </div>
          

        <h3>ğŸ“¨ ì‹ ì²­ì„œ ëª©ë¡</h3>
        <div class="application-list" id="applicationList">
            ë¡œë”© ì¤‘...
        </div>
      </div>
    </div>
    <script type="module">
        import { db, doc, setDoc, getDoc } from '../firebase.js';
      
        document.addEventListener("DOMContentLoaded", async () => {
          const toggle = document.getElementById("recruitToggle");
          const statusText = document.getElementById("recruitStateText");
          const statusDoc = doc(db, "recruitment", "status");
      
          toggle.addEventListener("change", async () => {
            const isOpen = toggle.checked;
            await setDoc(statusDoc, { open: isOpen });
            statusText.textContent = isOpen ? "ëª¨ì§‘ ì¤‘" : "ëª¨ì§‘ ì¢…ë£Œ";
          });
      
          const snapshot = await getDoc(statusDoc);
          if (snapshot.exists()) {
            const { open } = snapshot.data();
            toggle.checked = open;
            statusText.textContent = open ? "ëª¨ì§‘ ì¤‘" : "ëª¨ì§‘ ì¢…ë£Œ";
          }
        });
    </script>    
</body> 